<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Print.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">application</a> &gt; <a href="index.source.html" class="el_package">de.openknowledge.ausbildung.mbi.userinteraction</a> &gt; <span class="el_source">Print.java</span></div><h1>Print.java</h1><pre class="source lang-java linenums">package de.openknowledge.ausbildung.mbi.userinteraction;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.nio.charset.Charset;
import java.util.List;
import java.util.Locale;

import de.openknowlegde.ausbildung.mbi.domain.person.Human;
import de.openknowlegde.ausbildung.mbi.domain.person.Student;
import de.openknowlegde.ausbildung.mbi.domain.person.Teacher;
import de.openknowlegde.ausbildung.mbi.domain.school.SchoolClass;

/**
 * The start.Print class is used to produce various outputs with context to the classes, teachers or students.
 *
 * @see Student
 * @see Teacher
 * @see Human
 * @see SchoolClass
 */
@SuppressWarnings(&quot;checkstyle:RegexpSingleline&quot;)
<span class="nc" id="L24">public class Print {</span>

    //Used for the creation of the printed table
    private static final int FIVE = 5;

    private static final String TEACHER = &quot;Lehrer&quot;;

    private static final String STUDENT = &quot;Schueler&quot;;

    //Used for a printed table
    private static final int THREE = 3;

    //Used for printing teachers/students
    private static final int FOUR = 4;

    private static final String BLANKSPACE = &quot; &quot;;

    private static final String TABLEFORMAT = &quot;%-25s%-25s%-25s%n&quot;;

    private static final String ASK_FOR_LAST_NAME = &quot;Bitte gib den Nachnamen ein:&quot;;

    private static final String Y = &quot;y&quot;;

    private static final String WHICH_CLASS = &quot;Bitte gib die Klasse an:&quot;;

<span class="nc" id="L49">    private static BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));</span>

    /**
     * This is the default selection of actions the user can perform with the stored data. On the left side are the data types (teacher,
     * student, class) and in the second to the fifth column are the different actions that can be performed. Exceptions are the commands
     * for sorting, exporting and importing the data. Here, too, you can see that the terms are arranged on the left side and the commands
     * are right next to them.
     */
    public static void printTable() {
<span class="nc" id="L58">        System.out.println(&quot;Tippe das rechts stehende Wort ein um die entsprechende Liste zu bekommen.&quot;);</span>
<span class="nc" id="L59">        final Object[][] table = new String[FIVE][];</span>
<span class="nc" id="L60">        table[0] = new String[]{&quot;Klassen&quot;, &quot;classlist&quot;, &quot;classadd&quot;, &quot;classedit&quot;, &quot;classdelete&quot;};</span>
<span class="nc" id="L61">        table[1] = new String[]{STUDENT, &quot;studentlist&quot;, &quot;studentadd&quot;, &quot;studentedit&quot;, &quot;studentdelete&quot;};</span>
<span class="nc" id="L62">        table[2] = new String[]{TEACHER, &quot;teacherlist&quot;, &quot;teacheradd&quot;, &quot;teacheredit&quot;, &quot;teacherdelete&quot;};</span>
<span class="nc" id="L63">        table[THREE] = new String[]{&quot;Datenexport&quot;, &quot;export&quot;, &quot;&quot;, &quot;Datenimport&quot;, &quot;import&quot;};</span>
<span class="nc" id="L64">        table[FOUR] = new String[]{&quot;Beenden&quot;, &quot;ende&quot;, &quot;&quot;, &quot;Sortierung ändern&quot;, &quot;sort&quot;};</span>

<span class="nc bnc" id="L66" title="All 2 branches missed.">        for (final Object[] row : table) {</span>
<span class="nc" id="L67">            System.out.format(&quot;%-25s%-25s%-25s%-25s%-25s%n&quot;, row);</span>
        }
<span class="nc" id="L69">    }</span>

    /**
     * The method is used to output all students that are stored. This output is done depending on the sorting, but with all the data stored
     * for the student. The student number and the first and last name are output in order.
     *
     * @param students the list of students in all classes
     */
    public static void printTableStudentList(List&lt;Student&gt; students) {
<span class="nc" id="L78">        final Object[][] table = new String[students.size()][];</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">        for (int i = 0; i &lt; students.size(); i++) {</span>
<span class="nc" id="L80">            table[i] = new String[]{STUDENT,</span>
<span class="nc" id="L81">                students.get(i).getFirstName().getValue() + BLANKSPACE + students.get(i).getLastName().getValue(),</span>
<span class="nc" id="L82">                String.valueOf(students.get(i).getNumber())};</span>
        }

<span class="nc bnc" id="L85" title="All 2 branches missed.">        for (final Object[] row : table) {</span>
<span class="nc" id="L86">            System.out.format(TABLEFORMAT, row);</span>
        }
<span class="nc" id="L88">    }</span>

    /**
     * The method can be used to output all data of a class in detail. Beside the data about level, description, name, also the data of the
     * class teacher, as well as all students contained in the class are output.
     *
     * @param print the class to be printed
     */
    public static void printTableClassDetails(SchoolClass print) {
<span class="nc" id="L97">        int amount = print.getStudents().size() + FOUR;</span>
<span class="nc" id="L98">        final Object[][] table = new String[amount][];</span>
<span class="nc" id="L99">        table[0] = new String[]{&quot;Stufe&quot;, print.getLevel().toString()};</span>
<span class="nc" id="L100">        table[1] = new String[]{&quot;Beschreibung&quot;, print.getDescription().getValue()};</span>
<span class="nc" id="L101">        table[2] = new String[]{&quot;Name&quot;, print.getName().getValue()};</span>
<span class="nc" id="L102">        System.out.println(print.getTeacher().getFirstName().getValue());</span>
<span class="nc" id="L103">        table[THREE] = new String[]{TEACHER,</span>
<span class="nc" id="L104">            print.getTeacher().getFirstName().getValue() + BLANKSPACE + print.getTeacher().getLastName().getValue()};</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">        for (int i = FOUR; i &lt; amount; i++) {</span>
<span class="nc" id="L106">            table[i] = new String[]{STUDENT,</span>
<span class="nc" id="L107">                print.getStudents().get(i - FOUR).getFirstName().getValue() + BLANKSPACE + print.getStudents().get(i - FOUR).getLastName()</span>
<span class="nc" id="L108">                    .getValue()};</span>
        }

<span class="nc bnc" id="L111" title="All 2 branches missed.">        for (final Object[] row : table) {</span>
<span class="nc" id="L112">            System.out.format(TABLEFORMAT, row);</span>
        }
<span class="nc" id="L114">    }</span>

    /**
     * The rudimentary data about a teacher is displayed. In addition to the teacher's number, the first name and surname are also
     * displayed.
     *
     * @param teachers a list of teachers
     */
    public static void printTableTeacherList(List&lt;Teacher&gt; teachers) {
<span class="nc" id="L123">        final Object[][] table = new String[teachers.size()][];</span>
<span class="nc" id="L124">        int i = 0;</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">        for (Teacher teacher : teachers) {</span>
<span class="nc" id="L126">            table[i] = new String[]{TEACHER, teacher.getFirstName().getValue() + BLANKSPACE + teacher.getLastName().getValue(),</span>
<span class="nc" id="L127">                String.valueOf(teacher.getNumber().toString())};</span>
<span class="nc" id="L128">            i++;</span>
<span class="nc" id="L129">        }</span>
<span class="nc bnc" id="L130" title="All 2 branches missed.">        for (final Object[] row : table) {</span>
<span class="nc" id="L131">            System.out.format(TABLEFORMAT, row);</span>
        }
<span class="nc" id="L133">    }</span>

    /**
     * Cornerstone for exporting the records. In addition to the query for the encoding, the file name is also queried and a compression of
     * the data is also requested.
     *
     * @return a String array with essentiel data
     * @throws IOException
     */
    public static String[] chooseFileData() throws IOException {
<span class="nc" id="L143">        String format = chooseFileFormat();</span>
<span class="nc" id="L144">        String fileName = askForFileName();</span>
<span class="nc" id="L145">        System.out.println(&quot;Soll eine .zip Datei erstellt werden? j/n&quot;);</span>
<span class="nc" id="L146">        boolean compressed = false;</span>
<span class="nc bnc" id="L147" title="All 2 branches missed.">        if (reader.readLine().equalsIgnoreCase(&quot;j&quot;)) {</span>
<span class="nc" id="L148">            compressed = true;</span>
        }

<span class="nc" id="L151">        return new String[]{format, fileName, String.valueOf(compressed)};</span>
    }

    private static String chooseFileFormat() throws IOException {
<span class="nc" id="L155">        String format = &quot;UTF-8&quot;;</span>
        try {
            do {
<span class="nc" id="L158">                System.out.println(&quot;Soll ein bestimmtes Format eingehalten werden?&quot;);</span>
<span class="nc" id="L159">                format = reader.readLine();</span>
<span class="nc bnc" id="L160" title="All 6 branches missed.">            } while (format.isEmpty() || isBlank(format) || !Charset.isSupported(format));</span>
<span class="nc" id="L161">        } catch (Exception e) {</span>
<span class="nc" id="L162">            chooseFileFormat();</span>
<span class="nc" id="L163">        }</span>
<span class="nc" id="L164">        return format;</span>
    }

    public static String askForFileName() throws IOException {
<span class="nc" id="L168">        System.out.println(&quot;Wie soll die Datei heißen?&quot;);</span>
<span class="nc" id="L169">        return reader.readLine();</span>
    }

    public static String whichFile() throws IOException {
<span class="nc" id="L173">        System.out.println(&quot;Welche Datei soll importiert werden?&quot;);</span>
<span class="nc" id="L174">        return reader.readLine();</span>
    }

    /**
     * A very simple method to insert a file path.
     *
     * @return a file path as string
     * @throws IOException
     */
    public static String inputPath() throws IOException {
<span class="nc" id="L184">        System.out.println(&quot;Bitte gib einen Pfad ein:&quot;);</span>
<span class="nc" id="L185">        return reader.readLine();</span>
    }

    /**
     * This method returns a boolean equals to the choice the user made.
     */

    public static boolean yesNo() throws IOException {
<span class="nc" id="L193">        System.out.println(&quot;Sollen die Daten vom letzten Mal genutzt werden? y/n&quot;);</span>
<span class="nc" id="L194">        return reader.readLine().toLowerCase(Locale.ROOT).equals(Y);</span>
    }

    private static boolean isBlank(String charset) {
<span class="nc" id="L198">        charset.replaceAll(&quot;\\s&quot;, &quot;&quot;);</span>
<span class="nc" id="L199">        charset.trim();</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">        if (charset.isEmpty()) {</span>
<span class="nc" id="L201">            return true;</span>
        }
<span class="nc" id="L203">        return false;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>